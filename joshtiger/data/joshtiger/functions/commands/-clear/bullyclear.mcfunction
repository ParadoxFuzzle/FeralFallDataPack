
tag @s add EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:1b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:2b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:3b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:4b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:5b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:6b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:7b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:8b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:9b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:10b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:11b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:12b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:13b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:14b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:15b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:16b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:17b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:18b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:19b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:20b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:21b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:22b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:23b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:24b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:25b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:26b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:27b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:28b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:29b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:30b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:31b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:32b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:33b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:34b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:35b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:36b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:37b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:38b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:39b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:40b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:41b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:42b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:43b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:44b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:45b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:46b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:47b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:48b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:49b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:50b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:51b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:51b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:52b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:53b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:54b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:55b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:56b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:57b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:58b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:59b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:60b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:61b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:62b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:63b}}] run tag @s[tag=EmptySlot] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{Count:64b}}] run tag @s[tag=EmptySlot] remove EmptySlot

execute if entity @s[nbt={SelectedItem:{id:"minecraft:diamond_sword"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:diamond_shovel"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:diamond_pickaxe"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:diamond_axe"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:diamond_hoe"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:diamond"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:diamond_block"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:emerald"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:emerald_block"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:bow"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:crossbow"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:totem_of_undying"}}] run tag @s add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:elytra"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[nbt={SelectedItem:{id:"minecraft:shield"}}] run tag @s[tag=!EmptySlot] add RareItem
execute if entity @s[tag=RareItem] run tag @s add EmptySlot

execute as @s[nbt={SelectedItemSlot:0}] at @s run tag @s add Slot1
execute as @s[nbt={SelectedItemSlot:1}] at @s run tag @s add Slot2
execute as @s[nbt={SelectedItemSlot:2}] at @s run tag @s add Slot3
execute as @s[nbt={SelectedItemSlot:3}] at @s run tag @s add Slot4
execute as @s[nbt={SelectedItemSlot:4}] at @s run tag @s add Slot5
execute as @s[nbt={SelectedItemSlot:5}] at @s run tag @s add Slot6
execute as @s[nbt={SelectedItemSlot:6}] at @s run tag @s add Slot7
execute as @s[nbt={SelectedItemSlot:7}] at @s run tag @s add Slot8
execute as @s[nbt={SelectedItemSlot:8}] at @s run tag @s add Slot9


execute as @s[tag=Slot1] at @s if entity @s run replaceitem entity @s[tag=!EmptySlot] hotbar.0 air
execute as @s[tag=Slot2] at @s if entity @s run replaceitem entity @s[tag=!EmptySlot] hotbar.1 air
execute as @s[tag=Slot3] at @s if entity @s run replaceitem entity @s[tag=!EmptySlot] hotbar.2 air
execute as @s[tag=Slot4] at @s if entity @s run replaceitem entity @s[tag=!EmptySlot] hotbar.3 air
execute as @s[tag=Slot5] at @s if entity @s run replaceitem entity @s[tag=!EmptySlot] hotbar.4 air
execute as @s[tag=Slot6] at @s if entity @s run replaceitem entity @s[tag=!EmptySlot] hotbar.5 air
execute as @s[tag=Slot7] at @s if entity @s run replaceitem entity @s[tag=!EmptySlot] hotbar.6 air
execute as @s[tag=Slot8] at @s if entity @s run replaceitem entity @s[tag=!EmptySlot] hotbar.7 air
execute as @s[tag=Slot9] at @s if entity @s run replaceitem entity @s[tag=!EmptySlot] hotbar.8 air

tag @s[tag=Slot1] remove Slot1
tag @s[tag=Slot2] remove Slot2
tag @s[tag=Slot3] remove Slot3
tag @s[tag=Slot4] remove Slot4
tag @s[tag=Slot5] remove Slot5
tag @s[tag=Slot6] remove Slot6
tag @s[tag=Slot7] remove Slot7
tag @s[tag=Slot8] remove Slot8
tag @s[tag=Slot9] remove Slot9

execute if entity @s[nbt={SelectedItem:{id:"minecraft:bow"}}] run tag @s[nbt={Inventory:[{id:"minecraft:arrow"}]}] remove EmptySlot
execute if entity @s[nbt={SelectedItem:{id:"minecraft:bow"}}] run tag @s[nbt={Inventory:[{id:"minecraft:arrow"}]}] add ClearArrows
execute if entity @s[tag=ClearArrows] run tag @s remove RareItem
execute as @s[tag=ClearArrows] at @s run tellraw @s[nbt={Inventory:[{id:"minecraft:arrow"}]}] {"text":"§9[§2§lJ§6§lT§9]: §cThe bully took your arrows!","color":"red"}
execute as @s[tag=ClearArrows] at @s run clear @s arrow
execute as @s[tag=ClearArrows] at @s run tag @s remove ClearArrows

execute if entity @s[tag=EmptySlot] run effect give @s[tag=!RareItem] minecraft:slowness 30 5 true
execute if entity @s[tag=EmptySlot] run effect give @s[tag=RareItem] minecraft:instant_damage 1 0 true
execute if entity @s[tag=EmptySlot] run tellraw @s[tag=!RareItem] {"text":"§9[§2§lJ§6§lT§9]: §cThe Bully punished you!","color":"red"}
execute if entity @s[tag=EmptySlot] run tellraw @s[tag=RareItem] {"text":"§9[§2§lJ§6§lT§9]: §cThe Bully could not steal the item as it is too valuable to steal, so he punched you instead!","color":"red"}

execute as @s[tag=RareItem] at @s run tag @s remove RareItem